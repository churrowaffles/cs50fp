<!DOCTYPE html>

<html lang="en">
    <head>
        <title> {% block title %} {% endblock %}</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/autosize.js/5.0.1/autosize.min.js" integrity="sha512-aBxhlAogg9r6Gtes+dsuqW6IQ4Ee0MtjexckbMNOVdxAfi5NSEd38BNEgFiaBWS6cl67r+8OImzxVKDdmswhnA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="../static/js/main.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/dayjs@1/dayjs.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/dayjs/1.11.6/plugin/relativeTime.min.js" integrity="sha512-MVzDPmm7QZ8PhEiqJXKz/zw2HJuv61waxb8XXuZMMs9b+an3LoqOqhOEt5Nq3LY1e4Ipbbd/e+AWgERdHlVgaA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/dayjs/1.11.6/plugin/updateLocale.min.js" integrity="sha512-5AXG8n/7ZieZPodmu5R2fVCl8MjkA4mrYLXZ6QuhYw1hlAFa6n1YK1PbsF3ewKhfw0py00H8fnmhmnP4jph4Kw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script>
            dayjs.extend(window.dayjs_plugin_relativeTime)
            dayjs.extend(window.dayjs_plugin_updateLocale)
            dayjs.updateLocale('en', {
            relativeTime: {
                future: "in %s", past: "%s ago", s: 'a few seconds', m: "one minute", mm: "%d minutes", h: "an hour", hh: "%d hours", d: "1 day", dd: "%d days", M: "1 month", MM: "%d months", y: "1 year", yy: "%d years"
                }
            });
        </script>
        {% block script %}{% endblock %}

        <link rel="shortcut icon" href="#">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Lato&family=Poppins&display=swap" rel="stylesheet">

        <link rel="stylesheet" href="../static/css/main.css">
        <link rel="stylesheet" href="../static/css/register.css">
        <link rel="stylesheet" href="../static/css/view_file.css">
        <link rel="stylesheet" href="../static/css/quotations.css">
        <link rel="stylesheet" href="../static/css/index.css">
        <link rel="stylesheet" href="../static/css/verify.css">
        <link rel="stylesheet" href="../static/css/accountsettings.css">

        <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
            <symbol id="check-circle-fill" fill="currentColor" viewBox="0 0 16 16">
              <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
            </symbol>
            <symbol id="info-fill" fill="currentColor" viewBox="0 0 16 16">
              <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/>
            </symbol>
            <symbol id="exclamation-triangle-fill" fill="currentColor" viewBox="0 0 16 16">
              <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
            </symbol>
        </svg>
    </head>
    <body>
        <div class="header">
            {% if session['id'] %}
                <div id="menuButton">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg>
                </div>
            {% endif %}
            <h1><a href="/">invoicer.</a></h1>
            {% if not session['id'] %}
                <div class="header-buttons">
                    <div> <a href="{{url_for('register')}}">Register</a></div>
                    <div> <a href="{{url_for('login')}}">Login</a></div>
                </div>
            {% endif %}
        </div>
        {% if get_flashed_messages(with_categories=True, category_filter=('info')) %}
        <div class="flash-green flash-msg" role="alert">
            <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Success:"><use xlink:href="#check-circle-fill"/></svg>
            <div class="flash-text">
                {{ get_flashed_messages()[0] }}
            </div>
        </div>
        {% endif %}
        {% if get_flashed_messages(with_categories=True, category_filter=('error')) %}
        <div class="flash-red flash-msg">
            <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Danger:"><use xlink:href="#exclamation-triangle-fill"/></svg>
            <div class="flash-text">
                {{ get_flashed_messages()[0] }}
            </div>
        </div>
        {% endif %}
        {% if session['id'] %}
        <nav class="sidebar-wrapper" id="sidebar-wrapper">
            <div class="close-sidebar" id="close-sidebar"> &times; </div>
            <div class="sidebar">
                <ul class="sidebar-top">
                    <li id="create_quote">Create quotation</a> </li>
                    <li> <a href="{{url_for('quotations')}}">View quotations</a> </li>
                    <li id="create_invoice"> Create invoice </li>
                    <li> <a href="{{url_for('invoices')}}">View invoices</a></li>
                </ul>
                <ul class="sidebar-btm">
                    <li> <a href="{{url_for('accountsettings')}}">Account Settings</a></li>
                    <li> <a href="{{url_for('logout')}}">Log out</a></li>
                </ul>
            </div>
        </nav>
        {% endif %}
        <div class="page">
            {% block main %}
            {% endblock %}
        </div>

        <div id="create_quote_popup" class="popup-full">
            <form action="{{url_for('create_quote')}}" method="post" class="popup">
                <div class="close" id="close_quote"> &times; </div>
                <h2>Create a quotation</h2>
                <div class="popup-form">
                    <label for="quotation_name">Name:</label>
                    <input type="text" name="quotation_name">
                </div>
                <input class="popup-btn" id="quote_popup-btn" type="submit" value="Submit">
            </form>
        </div>
        <div id="create_invoice_popup" class="popup-full">
            <form action="{{url_for('create_invoice')}}" method="post" class="popup">
                <div class="close" id="close_invoice"> &times; </div>
                <h2>Create an invoice</h2>
                <div class="popup-form">
                    <label for="invoice_name">Name:</label>
                    <input type="text" name="invoice_name">
                </div>
                <input class="popup-btn" id="popup-btn" type="submit" value="Submit">
            </form>
        </div>

    </body>
</html>